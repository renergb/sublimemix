<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sublime Weekendmix Jukebox</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/download.css">
    <!-- Verbeterde scripts -->
    <script src="/static/js/navigation_fix.js" defer></script>
    <script src="/static/js/error_handling.js" defer></script>
    <script src="/static/js/download_optimization.js" defer></script>
    <script src="/static/js/mobile_responsiveness.js" defer></script>
    <!-- Bestaande scripts -->
    <script src="/static/js/app.js" defer></script>
</head>
<body>
    <div id="app-container">
        <div id="sidebar">
            <div class="logo">
                <h2>Sublime Weekendmix</h2>
            </div>
            <nav>
                <a href="#home" class="nav-item active">
                    <i class="nav-icon">🏠</i>
                    <span>Home</span>
                </a>
                <a href="#episodes" class="nav-item">
                    <i class="nav-icon">🎵</i>
                    <span>Alle Afleveringen</span>
                </a>
                <a href="#favorites" class="nav-item">
                    <i class="nav-icon">⭐</i>
                    <span>Favorieten</span>
                </a>
                <a href="#favorite-songs" class="nav-item">
                    <i class="nav-icon">💖</i>
                    <span>Favoriete Nummers</span>
                </a>
                <a href="#downloads" class="nav-item">
                    <i class="nav-icon">📥</i>
                    <span>Downloads</span>
                </a>
            </nav>
        </div>

        <div id="header">
            <button id="mobile-menu-button" aria-label="Menu">☰</button>
            <h1>Sublime Weekendmix Jukebox</h1>
            <div class="header-actions">
                <button id="refresh-button" class="icon-button" aria-label="Vernieuwen">🔄</button>
            </div>
        </div>

        <div id="mobile-overlay"></div>

        <div id="main-content">
            <div id="home-section" class="section active">
                <h1>Welkom bij de Sublime Weekendmix Jukebox</h1>
                <p>Luister naar alle afleveringen van The Sublime Weekendmix in willekeurige volgorde, markeer je favorieten, en ontdek nieuwe muziek.</p>
                
                <div class="featured-episodes">
                    <h2>Uitgelichte Afleveringen</h2>
                    <div class="episode-grid">
                        <!-- Dynamisch gevuld door JavaScript -->
                    </div>
                </div>
                
                <div class="recent-episodes">
                    <h2>Recente Afleveringen</h2>
                    <div class="episode-list">
                        <!-- Dynamisch gevuld door JavaScript -->
                    </div>
                </div>
            </div>

            <div id="episodes-section" class="section">
                <h1>Alle Afleveringen</h1>
                <div class="filter-controls">
                    <input type="text" id="episode-search" placeholder="Zoek afleveringen...">
                    <select id="episode-sort">
                        <option value="date-desc">Nieuwste eerst</option>
                        <option value="date-asc">Oudste eerst</option>
                        <option value="title-asc">Titel (A-Z)</option>
                        <option value="title-desc">Titel (Z-A)</option>
                    </select>
                </div>
                <div class="episode-list">
                    <!-- Dynamisch gevuld door JavaScript -->
                </div>
            </div>

            <div id="favorites-section" class="section">
                <h1>Favorieten</h1>
                <p>Je favoriete afleveringen van The Sublime Weekendmix.</p>
                <div class="episode-list">
                    <!-- Dynamisch gevuld door JavaScript -->
                </div>
                <div class="empty-state" style="display: none;">
                    <div class="empty-state-icon">⭐</div>
                    <h3>Geen favorieten gevonden</h3>
                    <p>Markeer afleveringen als favoriet om ze hier te zien.</p>
                    <button id="go-to-episodes" class="primary-button">Ga naar afleveringen</button>
                </div>
            </div>

            <div id="favorite-songs-section" class="section">
                <h1>Favoriete Nummers</h1>
                <p>Nummers die je hebt gemarkeerd tijdens het luisteren naar de mixen.</p>
                <div class="song-list">
                    <!-- Dynamisch gevuld door JavaScript -->
                </div>
                <div class="empty-state" style="display: none;">
                    <div class="empty-state-icon">💖</div>
                    <h3>Geen favoriete nummers gevonden</h3>
                    <p>Markeer nummers als favoriet tijdens het luisteren om ze hier te zien.</p>
                </div>
            </div>

            <div id="downloads-section" class="section">
                <h1>Downloads</h1>
                <p>Download afleveringen om offline te luisteren.</p>
                <div class="downloads-container">
                    <!-- Dynamisch gevuld door JavaScript -->
                </div>
            </div>
        </div>

        <div id="player">
            <div class="player-info">
                <img src="/static/img/placeholder.jpg" alt="Episode cover" id="player-cover">
                <div class="player-info-text">
                    <h3 id="player-title">Geen aflevering geselecteerd</h3>
                    <p id="player-date">Selecteer een aflevering om te beginnen</p>
                </div>
            </div>
            <div class="player-controls">
                <button id="previous-button" class="control-button" aria-label="Vorige">⏮️</button>
                <button id="play-pause-button" class="control-button" aria-label="Afspelen">▶️</button>
                <button id="next-button" class="control-button" aria-label="Volgende">⏭️</button>
            </div>
            <div class="player-progress">
                <div class="progress-bar-container">
                    <div class="progress-bar" style="width: 0%"></div>
                </div>
                <div class="progress-time">
                    <span id="current-time">0:00</span>
                    <span id="total-time">0:00</span>
                </div>
            </div>
            <div class="player-volume">
                <button id="volume-button" class="control-button" aria-label="Volume">🔊</button>
                <div class="volume-slider">
                    <div class="volume-level" style="width: 70%"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="song-marker-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Markeer Nummer</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Markeer het huidige nummer in de mix als favoriet.</p>
                <form id="song-marker-form">
                    <div class="form-group">
                        <label for="song-artist">Artiest</label>
                        <input type="text" id="song-artist" placeholder="Artiest naam">
                    </div>
                    <div class="form-group">
                        <label for="song-title">Titel</label>
                        <input type="text" id="song-title" placeholder="Nummer titel">
                    </div>
                    <div class="form-group">
                        <label for="song-timestamp">Tijdstip</label>
                        <input type="text" id="song-timestamp" readonly>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="search-spotify-button" class="secondary-button">Zoek op Spotify</button>
                        <button type="submit" class="primary-button">Opslaan</button>
                    </div>
                </form>
                <div id="spotify-results" style="display: none;">
                    <h3>Spotify Resultaten</h3>
                    <div class="spotify-results-list">
                        <!-- Dynamisch gevuld door JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="error-container" class="error-container"></div>
</body>
</html>
